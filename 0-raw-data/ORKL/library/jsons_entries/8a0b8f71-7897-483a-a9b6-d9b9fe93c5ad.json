{
    "id": "8a0b8f71-7897-483a-a9b6-d9b9fe93c5ad",
    "created_at": "2023-01-12T15:10:20.248775Z",
    "updated_at": "2025-03-27T02:05:22.993931Z",
    "deleted_at": null,
    "sha1_hash": "012ef868a3ce9c566ff6b4c3db25079a1d42be92",
    "title": "2014-06-04 - Introducing Antak - A webshell which utilizes powershell",
    "authors": "",
    "file_creation_date": "2022-05-28T16:09:46Z",
    "file_modification_date": "2022-05-28T16:09:46Z",
    "file_size": 1200585,
    "plain_text": "# Introducing Antak - A webshell which utilizes powershell\n\n**[labofapenetrationtester.com/2014/06/introducing-antak.html](http://www.labofapenetrationtester.com/2014/06/introducing-antak.html)**\n\nDuing penetration tests, I always wanted to have a simple yet powerful webshell. For that, I\nwrote Antak last year, demonstrated it at Defcon 21 but never released for I was busy in\nother things :)\n\nAntak stands for God of Death in Indian mythology, popularly known as Yamraj. Muhahaha\n\nThe webshell is a part of Nishang now. It is written in ASP.Net.\n\nAntak's UI has been designed to resemble a powershell console.\n\nUse clear to clear the output box. Use help to see the built-in help.\n\n\n-----\n\nLets see some of its features.\n\n**Running Commands**\n\nTo run commands on the target machine, just type those in the command text box and press\nenter or click on submit.\n\nEach command is executed in a separate powershell process. To run multiple commands in\na single process, use semi-colon (;) separated commands like cd..;pwd;ls\n\nYou are effectively sitting on a powershell prompt with -noninteractvie and -executionpolicy\n_bypass parameters. So all powershell commands would run. Great!_\n\nCode snip for command execution:\n\n**Upload a file**\n\nTo upload a file using Antak:\n\n\n-----\n\n1. Write the path writable directory in command box. Usually, at least C:\\Windows\\Temp\nshould be writable.\n2. Use the browse button to locate the file on your local machine.\n\n3. Click on \"Upload the file\" button.\n\nAlso, lets verify if the file has been uploaded.\n\nNice! The file has been uploaded.\n\nCode for this:\n\n**Download a file**\n\nTo download a file, just write/copy its complete path in command box and click on the\n\"download\" button.\n\n\n-----\n\nAnd this downloaded text file contains username and password to another machine. Of\ncourse, you won't find such things in an enterpreise enviroonment (pun intended) :D\n\nCode for download:\n\n**Executing Scripts**\n\nThere are many ways how a script could be executed using Antak.\n\n**UPDATE: In methods 1 and 2 below the script does not touch disk (someone asked me this).**\n\n1. Paste the script in command box and click \"Encode and Execute\".\n\nLets try this with the egress testing script Firebuster.ps1\n\n\n-----\n\n2. Using powershell one-liner for download & execute. Paste the one-liner in command box\nand click on execute.\n\nLets try this with powershell payload generated using msf.\n\nThe one liner which could be used is:\n\n3. An uploaded script could be executed in the usual way.\n\nLets upload powerpreter on the target and use Get-Information function.\n\n\n-----\n\nHandy!\n\n**Remoting/Pivoting**\n\nRecall that we are practically on a powershell prompt. So lets try to use powershell remoting\nto execute commands on remote machines. Two things which are required for using\npowershell remoting from Antak are:\n\n1. Administrative credentials for the target remote system.\n\n2. Powershell remoting must already be enabled between system where Antak is residing\nand the target machine. As it is not possible to change any settings due to low privileges\nunder which Antak runs.\n\nRecall that we downloaded a plain-text credential for a remote machine. That could be used\nnow.\n\nFollowing semi-colon(;) separated commands could be used to achieve this. This command\ntakes username and password in plain and exeucte ipconfig on the target.\n\nLets use this :)\n\nGreat! We are able to execute commands on the remote machine.\n\nThat is it for Antak, hope you liked it. It is a part of Nishang and could be found here:\n[https://github.com/samratashok/nishang](https://github.com/samratashok/nishang)\n\n\n-----\n\nIf you would like to see Antak in action, you may like to see the webcast I did for\n[Garage4hackers:](http://www.garage4hackers.com/)\n\nI look forward to feedback, bugs and feature requests.\n\n\n-----",
    "language": "EN",
    "sources": [
        {
            "id": "05d7b179-7656-44d8-a74c-9ab34d3df3a2",
            "created_at": "2023-01-12T14:38:44.599904Z",
            "updated_at": "2023-01-12T14:38:44.599904Z",
            "deleted_at": null,
            "name": "VXUG",
            "url": "https://www.vx-underground.org",
            "description": "vx-underground Papers",
            "reports": null
        }
    ],
    "references": [
        "https://papers.vx-underground.org/papers/Malware Defense/Malware Analysis 2014/2014-06-04 - Introducing Antak - A webshell which utilizes powershell.pdf"
    ],
    "report_names": [
        "2014-06-04 - Introducing Antak - A webshell which utilizes powershell.pdf"
    ],
    "threat_actors": [],
    "ts_created_at": 1673536220,
    "ts_updated_at": 1743041122,
    "ts_creation_date": 1653754186,
    "ts_modification_date": 1653754186,
    "files": {
        "pdf": "https://archive.orkl.eu/012ef868a3ce9c566ff6b4c3db25079a1d42be92.pdf",
        "text": "https://archive.orkl.eu/012ef868a3ce9c566ff6b4c3db25079a1d42be92.txt",
        "img": "https://archive.orkl.eu/012ef868a3ce9c566ff6b4c3db25079a1d42be92.jpg"
    }
}