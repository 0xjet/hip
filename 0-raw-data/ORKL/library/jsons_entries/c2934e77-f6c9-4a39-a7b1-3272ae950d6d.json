{
    "id": "c2934e77-f6c9-4a39-a7b1-3272ae950d6d",
    "created_at": "2023-01-12T15:02:22.198589Z",
    "updated_at": "2025-03-27T02:16:26.040442Z",
    "deleted_at": null,
    "sha1_hash": "2dde45466a27c726b4e5fdd670212cbd59b520ec",
    "title": "2022-03-23 - Tracking cyber intruders with Jupyter and Python",
    "authors": "",
    "file_creation_date": "2022-05-28T02:35:19Z",
    "file_modification_date": "2022-05-28T02:35:19Z",
    "file_size": 1704927,
    "plain_text": "# Episode #276: Tracking cyber intruders with Jupyter and Python\n\n**[pythonbytes.fm/episodes/show/276/tracking-cyber-intruders-with-jupyter-and-python](https://pythonbytes.fm/episodes/show/276/tracking-cyber-intruders-with-jupyter-and-python)**\n\nPublished Wed, Mar 23, 2022, recorded Tue, Mar 22, 2022.\n\n**Watch the live stream:**\n\n\n-----\n\nPlay on YouTube\n\n**About the show**\n\n[Sponsored by FusionAuth: pythonbytes.fm/fusionauth](http://pythonbytes.fm/fusionauth)\n\n[Special guest: Ian Hellen](https://twitter.com/ianhellen)\n\n**Brian #1:** **[gensim.parsing.preprocessing](https://radimrehurek.com/gensim/parsing/preprocessing.html)**\n\nProblem Iâ€™m working on\n\nTurn a blog title into a possible url\n\nexample: â€œTwisted and Testing Event Driven / Asynchronous Applications Glyphâ€\nwould like, perhaps: â€œtwisted-testing-event-driven-asynchrounousapplicationsâ€\nSub-problem: remove stop words â† this is the hard part\n[I started with an article called Removing Stop Words from Strings in Python](https://stackabuse.com/removing-stop-words-from-strings-in-python/)\n\nIt covered how to do this with NLTK, Gensim, and SpaCy\nI was most successful with `remove_stopwords() from Gensim`\n```\n         from gensim.parsing.preprocessing import remove_stopwords\n\n```\nItâ€™s part of a `gensim.parsing.preprocessing package`\n\n\n-----\n\nI wonder what s all in there?\n\na treasure trove\n```\n      gensim.parsing.preprocessing.preprocess_string is one\n\n```\nthis function applies filters to a string, with the defaults almost being just what I\nwant:\n\nstrip_tags()\nstrip_punctuation()\nstrip_multiple_whitespaces()\nstrip_numeric()\nremove_stopwords()\nstrip_short()\nstem_text() â† I think I want everything except this\n\nthis one turns â€œTwistedâ€ into â€œTwistâ€, not good.\nThereâ€™s lots of other text processing goodies in there also.\nOh, yeah, and Gensim is also cool.\n\ntopic modeling for training semantic NLP models\nSo, I think I found a really big hammer for my little problem.\n\nBut Iâ€™m good with that\n\n**Michael #2:** **[DevDocs](https://devdocs.io/)**\n\nvia Loic Thomson\nGather and search a bunch of technology docs together at once\nFor example: Python + Flask + JavaScript + Vue + CSS\nHas an offline mode for laptops / tablets\n\n\n-----\n\nInstalls as a PWA (sadly not on Firefox)\n\n**Ian** **#3:** **[MSTICPy](https://msticpy.readthedocs.io/)**\n\nMSTICPy is toolset for CyberSecurity investigations and hunting in Jupyter notebooks.\nWhat is CyberSec hunting/investigating? - responding to security alerts and threat\nintelligence reports, trawling through security logs from cloud services and hosts to\ndetermine if itâ€™s a real threat or not.\nWhy Jupyter notebooks?\n\nSOC (Security Ops Center) tools can be excellent but all have limitations\nYou can get data from anywhere\nUse custom analysis and visualizations\nControl the workflowâ€¦. workflow is repeatable\nOpen source pkg - created originally to support MS Sentinel Notebooks but now\nsupports lots of providers. When I start this 3+ yrs ago I thought a lot this would be in\nPyPI - but no ðŸ˜ž\nMSTICPy has 4 main functional areas:\n\nData querying - import log data (Sentinel, Splunk, MS Defender, othersâ€¦working\non Elastic Search)\nEnrichment - is this IP Address or domain known to be malicious?\nAnalysis - extract more info from data, identify anomalies (simple example - spike\nin logon failures)\nVisualization - more specialized than traditional graphs - timelines, process trees.\nAll components use pandas, Bokeh for visualizations\n\n\n-----\n\nCurrent focus on usability, discovery of functionality and being able to chain\nAlways looking for collaborators and contributors - code, docs, queries, critiques\n[https://github.com/microsoft/msticpy](https://github.com/microsoft/msticpy)\n[https://msticpy.readthedocs.io/](https://msticpy.readthedocs.io/)\n\n\n-----\n\n**Brian #4:** **[The Right Way To Compare Floats in Python](https://davidamos.dev/the-right-way-to-compare-floats-in-python/)**\n\nDavid Amos\n\n\n-----\n\nDefinitely an easier read than the classic What Every Computer Scientist Should Know\nAbout Floating-Point Arithmetic\n\nWhat many of us remember\n\nfloating point numbers arenâ€™t exact due to representation limitations and\nrounding error,\nerrors can accumulate\ncomparison is tricky\nBe careful when comparing floating point numbers, even simple comparisons, like: >>>\n0.1 + 0.2 == 0.3 False >>> 0.1 + 0.2 <= 0.3 False\nDavid has a short but nice introduction to the problems of representation and rounding.\nThree reasons for rounding\n\nmore significant digits than floating point allows\nirrational numbers\nrational but non-terminating\nSo how do you compare:\n```\n      math.isclose()\n\n```\nbe aware of `rel_tol and` `abs_tol and when to use each.`\n```\n      numpy.allclose(), returns a boolean comparing two arrays\n      numpy.isclose(), returns an array of booleans\n      pytest.approx(), used a bit differently\n         0.1 + 0.2 == pytest.approx(0.3)\n\n```\nAlso allows `rel and` `abs comparisons`\nDiscussion of `Decimal and` `Fraction types`\n\nAnd the memory and speed hit you take on when using them.\n\n**Michael #5:** **[Pypyr](https://pypyr.io/)**\n\nTask runner for automation pipelines\nFor when your shell scripts get out of hand. Less tricky than makefile.\nScript sequential task workflow steps in yaml\nConditional execution, loops, error handling & retries\nHave a look at [the getting started.](https://pypyr.io/docs/getting-started/run-your-first-pipeline/)\n\n**Ian** **#6:** **[Pygments](https://pygments.org/)**\n\nPython package thatâ€™s useful for anyone who wants to display code\n\nJupyter notebook Markdown and GitHub markdown let you display code with\nsyntax highlighting. (Jupyter uses Pygments behind the scenes to do this.)\nThere are tools that convert code to image format (PNG, JPG, etc) but you lose\nthe ability to copy/paste the code\nPygments can intelligently render syntax-highlighted code to HTML (and other formats)\nApplications:\n\nDocumentation (used by Sphinx/ReadtheDocs) - render code to HTML + CSS\nDisplaying code snippets dynamically in readable form\n\n\n-----\n\nLots (maybe 100s) of code lexers - Python (code, traceback), Bash, C, JS, CSS,\nHTML, also config and data formats like TOML, JSON, XML\nEasy to use - 3 lines of code - example:\n```\nfrom IPython.display import display, HTML\nfrom pygments import highlight\nfrom pygments.lexers import PythonLexer\nfrom pygments.formatters import HtmlFormatter\ncode = \"\"\"\ndef print_hello(who=\"World\"):\n  message = f\"Hello {who}\"\n  print(message)\n\"\"\"\ndisplay(HTML(\n  highlight(code, PythonLexer(), HtmlFormatter(full=True, nobackground=True))\n))\n# use HtmlFormatter(style=\"stata-dark\", full=True, nobackground=True)\n# for dark themes\n\n```\nOutput to HTML, Latex, image formats.\nWe use it in MSTICPy for displaying scripts used in attacks. Example:\n\n\n-----\n\n**Extras**\n\nBrian:\n\n**[smart-open](https://pypi.org/project/smart-open/)**\n\none of the 3 Gensim dependencies\nItâ€™s for streaming large files, from really anywhere, and looks just like Pythonâ€™s\n```\n      open() .\n\n```\nMichael:\n\n**Joke:** **[Whatâ€™s your secret?](https://twitter.com/PR0GRAMMERHUM0R/status/1504231058165882888)**\n\n\n-----",
    "language": "EN",
    "sources": [
        {
            "id": "05d7b179-7656-44d8-a74c-9ab34d3df3a2",
            "created_at": "2023-01-12T14:38:44.599904Z",
            "updated_at": "2023-01-12T14:38:44.599904Z",
            "deleted_at": null,
            "name": "VXUG",
            "url": "https://www.vx-underground.org",
            "description": "vx-underground Papers",
            "reports": null
        }
    ],
    "references": [
        "https://papers.vx-underground.org/papers/Malware Defense/Malware Analysis 2022/2022-03-23 - Tracking cyber intruders with Jupyter and Python.pdf"
    ],
    "report_names": [
        "2022-03-23 - Tracking cyber intruders with Jupyter and Python.pdf"
    ],
    "threat_actors": [
        {
            "id": "e90ec9cb-9959-455d-b558-4bafef64d645",
            "created_at": "2022-10-25T16:07:24.222081Z",
            "updated_at": "2025-03-27T02:02:10.14365Z",
            "deleted_at": null,
            "main_name": "Sphinx",
            "aliases": [
                "APT-C-15"
            ],
            "source_name": "ETDA:Sphinx",
            "tools": [
                "AnubisSpy",
                "Backdoor.Oldrea",
                "Bladabindi",
                "Fertger",
                "Havex",
                "Havex RAT",
                "Jorik",
                "Oldrea",
                "PEACEPIPE",
                "njRAT",
                "yellowalbatross"
            ],
            "source_id": "ETDA",
            "reports": null
        },
        {
            "id": "08c8f238-1df5-4e75-b4d8-276ebead502d",
            "created_at": "2023-01-06T13:46:39.344081Z",
            "updated_at": "2025-03-27T02:00:03.056208Z",
            "deleted_at": null,
            "main_name": "Copy-Paste",
            "aliases": [],
            "source_name": "MISPGALAXY:Copy-Paste",
            "tools": [],
            "source_id": "MISPGALAXY",
            "reports": null
        },
        {
            "id": "75108fc1-7f6a-450e-b024-10284f3f62bb",
            "created_at": "2024-11-01T02:00:52.756877Z",
            "updated_at": "2025-03-27T02:00:55.544216Z",
            "deleted_at": null,
            "main_name": "Play",
            "aliases": null,
            "source_name": "MITRE:Play",
            "tools": [
                "Nltest",
                "AdFind",
                "PsExec",
                "Wevtutil",
                "Cobalt Strike",
                "Playcrypt",
                "Mimikatz"
            ],
            "source_id": "MITRE",
            "reports": null
        }
    ],
    "ts_created_at": 1673535742,
    "ts_updated_at": 1743041786,
    "ts_creation_date": 1653705319,
    "ts_modification_date": 1653705319,
    "files": {
        "pdf": "https://archive.orkl.eu/2dde45466a27c726b4e5fdd670212cbd59b520ec.pdf",
        "text": "https://archive.orkl.eu/2dde45466a27c726b4e5fdd670212cbd59b520ec.txt",
        "img": "https://archive.orkl.eu/2dde45466a27c726b4e5fdd670212cbd59b520ec.jpg"
    }
}